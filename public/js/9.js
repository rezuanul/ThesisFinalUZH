(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"4I28":function(e,a,t){"use strict";t.r(a),t.d(a,"offchainLookupSignature",(function(){return m})),t.d(a,"offchainLookupAbiItem",(function(){return y})),t.d(a,"offchainLookup",(function(){return O})),t.d(a,"ccipFetch",(function(){return g}));var r=t("j0iV"),s=t("JyO/"),n=t("xMfY"),o=t("8kV5");class c extends n.a{constructor(e){var a;let{callbackSelector:t,cause:r,data:s,extraData:n,sender:c,urls:u}=e;super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],null!==(a=r.metaMessages)&&void 0!==a&&a.length?"":[],"Offchain Gateway Call:",u&&["  Gateway URL(s):",...u.map(e=>"    "+Object(o.b)(e))],"  Sender: "+c,"  Data: "+s,"  Callback selector: "+t,"  Extra data: "+n].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class u extends n.a{constructor(e){let{result:a,url:t}=e;super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:["Gateway URL: "+Object(o.b)(t),"Response: "+Object(s.a)(a)]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class d extends n.a{constructor(e){let{sender:a,to:t}=e;super("Reverted sender address does not match target contract address (`to`).",{metaMessages:["Contract address: "+t,"OffchainLookup sender address: "+a]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}var l=t("K9eS"),i=t("ziIp"),f=t("x1lJ"),b=t("02/+"),p=t("PTiM");var h=t("mcbX"),w=t("YXMa");const m="0x556f1830",y={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function O(e,a){let{blockNumber:t,blockTag:s,data:n,to:o}=a;const{args:u}=Object(i.a)({data:n,abi:[y]}),[l,w,m,O,k]=u;try{if(!function(e,a){if(!Object(p.a)(e))throw new b.a({address:e});if(!Object(p.a)(a))throw new b.a({address:a});return e.toLowerCase()===a.toLowerCase()}(o,l))throw new d({sender:l,to:o});const a=await g({data:m,sender:l,urls:w}),{data:n}=await Object(r.a)(e,{blockNumber:t,blockTag:s,data:Object(h.a)([O,Object(f.a)([{type:"bytes"},{type:"bytes"}],[a,k])]),to:o});return n}catch(e){throw new c({callbackSelector:O,cause:e,data:n,extraData:k,sender:l,urls:w})}}async function g(e){let{data:a,sender:t,urls:r}=e,n=new Error("An unknown error occurred.");for(let e=0;e<r.length;e++){const d=r[e],i=d.includes("{data}")?"GET":"POST",f="POST"===i?{data:a,sender:t}:void 0;try{var o;const e=await fetch(d.replace("{sender}",t).replace("{data}",a),{body:JSON.stringify(f),method:i});let r;if(r=null!==(o=e.headers.get("Content-Type"))&&void 0!==o&&o.startsWith("application/json")?(await e.json()).data:await e.text(),!e.ok){var c;n=new l.a({body:f,details:null!==(c=r)&&void 0!==c&&c.error?Object(s.a)(r.error):e.statusText,headers:e.headers,status:e.status,url:d});continue}if(!Object(w.a)(r)){n=new u({result:r,url:d});continue}return r}catch(e){n=new l.a({body:f,details:e.message,url:d})}}throw n}}}]);
//# sourceMappingURL=9.js.map?id=c5a44dd68e04d0c5595f